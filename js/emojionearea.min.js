!function(e,a,o){"use strict";function i(e){w?e():x.push(e)}function t(e,a,i){var t=!0,r=1;if(a){a=a.toLowerCase();do{var n=1==r?"@"+a:a;v[e.id][n]&&v[e.id][n].length&&o.each(v[e.id][n],function(a,o){return t=o.apply(e,i||[])!==!1})}while(t&&r--)}return t}function r(e,a,i,r){r=r||function(e,a){return o(a.currentTarget)},o.each(o.isArray(a)?a:[a],function(a,n){o.each(i,function(a,l){o(n).on(a=o.isArray(i)?l:a,function(){var i=o.isFunction(r)?r.apply(e,[a].concat(b.call(arguments))):r;i&&t(e,l,[i].concat(b.call(arguments)))})})})}function n(e,a){return e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(?:\r\n|\r|\n)/g,"\n").replace(/(\n+)/g,"<div>$1</div>").replace(/\n/g,"<br/>").replace(/<br\/><\/div>/g,"</div>"),a.shortnames&&(e=w.shortnameToUnicode(e)),c(e,'<img alt="{alt}" class="emojione'+(a.sprite?'-{uni}" src="'+g+'">':'" src="{img}">')).replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/  /g,"&nbsp;&nbsp;")}function l(e,a){return e=e.replace(/<img[^>]*alt="([^"]+)"[^>]*>/gi,"$1").replace(/\n|\r/g,"").replace(/<br[^>]*>/gi,"\n").replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/gi,"<div>").replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/gi,"</div>").replace(/\n<div><\/div>/gi,"\n").replace(/<div><\/div>\n/gi,"\n").replace(/(?:<div>)+<\/div>/gi,"\n").replace(/([^\n])<\/div><div>/gi,"$1\n").replace(/(?:<\/div>)+/gi,"</div>").replace(/([^\n])<\/div>([^\n])/gi,"$1\n$2").replace(/<\/div>/gi,"").replace(/([^\n])<div>/gi,"$1\n").replace(/\n<div>/gi,"\n").replace(/<div>\n/gi,"\n\n").replace(/<(?:[^>]+)?>/g,"").replace(/&nbsp;/g," ").replace(/\x20\x20/g,"&nbsp; ").replace(/\x20\x20/g," &nbsp;"),a&&a.shortnames?w.toShort(e):e}function s(e,a,o){return e.replace("{name}",o||"").replace("{img}",w.imagePathPNG+a+".png").replace("{uni}",a).replace("{alt}",w.convert(a))}function c(e,a){return e.replace(h,function(e){return"undefined"!=typeof e&&e in w.jsecapeMap?s(a,w.jsecapeMap[e]):e})}function _(e,a){return e.replace(/:?[\w_]+:?/g,function(e){return e=":"+e.replace(/:$/,"").replace(/^:/,"")+":",e in k?s(a,k[e][k[e].length-1],e):e})}function p(e,i,s){function c(){H||(o.each(k,function(e,a){H+=o(a).outerWidth(!0)}),T=k.eq(0).outerWidth(!0)),H>A?(x.addClass("active"),v.addClass("active"),A>=E+H?(E=A-H,x.removeClass("active")):E>=0&&(E=0,v.removeClass("active")),w.css("left",E)):(0!==E&&(E=0,w.css("left",E)),x.removeClass("active"),v.removeClass("active"))}s=o.extend({},f,s);var p,h,b,w,k,v,x,A,T,z,C=i.is("TEXTAREA")||i.is("INPUT")?"val":"text",q=s.template,R=!1,S=s.container?o(s.container):!1,E=0,H=0,L=function(){var a=h.width();a!==A&&(A=a,t(e,"resize",[p]))};e.sprite=s.useSprite,e.shortnames=s.shortnames;for(var F=["editor","filters","tabs"],I=0;3>I;I++)q=q.replace(new RegExp("<"+F[I]+"/?>","i"),'<div class="emojionearea-'+F[I]+'"></div>');q=o("<div/>",{"class":i.attr("class"),role:"application"}).addClass("emojionearea").html(q),p=e.editor=q.find(".emojionearea-editor").attr({contenteditable:!0,placeholder:s.placeholder||i.data("placeholder")||i.attr("placeholder")||"",tabindex:0});for(var $=["dir","spellcheck","autocomplete","autocorrect","autocapitalize"],I=0;5>I;I++)p.attr($[I],s[$[I]]);h=q.find(".emojionearea-filters"),s.autoHideFilters&&h.hide(),b=q.find(".emojionearea-tabs"),o.each(s.filters,function(a,i){o("<i/>",{"class":"emojionearea-filter","data-filter":a}).wrapInner(_(i.icon,e.sprite?'<i class="emojione-{uni}"/>':'<img class="emojione" src="{img}"/>')).appendTo(h),o("<div/>",{"class":"emojionearea-tab emojionearea-tab-"+a}).hide().data("items",_(i.emoji,'<i class="emojibtn" role="button">'+(e.sprite?'<i class="emojione-{uni}"':'<img class="emojione" src="{img}"')+' data-name="{name}"/></i>')).appendTo(b)}),h.wrapInner('<div class="emojionearea-filters-scroll"/>'),v=o('<i class="emojionearea-filter-arrow-left"/>',{role:"button"}).appendTo(h),x=o('<i class="emojionearea-filter-arrow-right"/>',{role:"button"}).appendTo(h),k=h.find(".emojionearea-filter"),w=h.children(".emojionearea-filters-scroll"),S?S.wrapInner(q):q.insertAfter(i),s.hideSource&&i.hide(),e.setText(i[C]()),r(e,[h,b],{mousedown:"area.mousedown"},p),r(e,p,["paste"],p),r(e,p,["focus","blur"],function(){return R?!1:p}),r(e,[p,h,b],["mousedown","mouseup","click","keyup","keydown"],p),r(e,h.find(".emojionearea-filter"),{click:"filter.click"}),r(e,v,{click:"arrowLeft.click"}),r(e,x,{click:"arrowRight.click"}),e.on("@filter.click",function(a){if(a.is(".active"))a.removeClass("active"),b.children().hide();else{k.filter(".active").removeClass("active"),a.addClass("active");var o,i,t=b.children().hide().filter(".emojionearea-tab-"+a.data("filter")).show(),n=t.data("items"),l={click:"emojibtn.click"};n&&(t.data("items",!1),n=n.split(","),e.sprite?(t.html(n.join("")),r(e,t.find(".emojibtn"),l)):i=y(function(){for(o=0;20>o&&n.length;o++)t.append(n.shift()),r(e,t.find(".emojibtn").not(".handled").addClass("handled"),l);n.length||j(i)},5))}}).on("@resize",function(){c()}).on("@arrowLeft.click",function(){E+=T,c()}).on("@arrowRight.click",function(){E-=T,c()}).on("@paste",function(i){R=!0,d("<span> </span>");var t=m(i[0]),r=i.scrollTop(),s=o("<div/>",{contenteditable:!0}).css({position:"fixed",left:"-999px",width:"1px",height:"1px",top:"20px",overflow:"hidden"}).appendTo(o("BODY")).focus();a.setTimeout(function(){var a="caret-"+(new Date).getTime();i.focus(),u(i[0],t),d(n(l(s.html().replace(/\r\n|\n|\r/g,"<br>"),e),e)),s.remove(),d('<i id="'+a+'"></i>'),i.scrollTop(r);var c=o("#"+a),_=c.offset().top-i.offset().top,p=i.height();(r+_>=p||r>_)&&i.scrollTop(r+_-2*p/3),c.remove(),R=!1},200)}).on("@emojibtn.click",function(a){m(p[0]),d(_(a.children().data("name"),'<img alt="{alt}" class="emojione'+(e.sprite?'-{uni}" src="'+g+'">':'" src="{img}">')))}).on("@area.mousedown",function(e,a){return s.autoHideFilters||q.is(".focused")||e.focus(),a.preventDefault(),!1}).on("@change",function(a){var o=a.html().replace(/<\/?(?:div|span|p)[^>]*>/gi,"");o.length&&!/^<br[^>]*>$/i.test(o)||e.setText("",!1),i[C](e.getText())}).on("@focus",function(){L(),z=y(L,500),q.addClass("focused"),s.autoHideFilters&&h.slideDown(400)}).on("@blur",function(a){E=0,c(),q.removeClass("focused"),j(z),s.autoHideFilters&&h.slideUp(400),k.filter(".active").removeClass("active"),b.children().hide();var o=a.html();e.content!==o?(e.content=o,t(e,"change",[p]),i.blur().trigger("change")):i.blur()})}function d(o){var i,t;if(a.getSelection){if(i=a.getSelection(),i.getRangeAt&&i.rangeCount){t=i.getRangeAt(0),t.deleteContents();var r=e.createElement("div");r.innerHTML=o;for(var n,l,s=e.createDocumentFragment();n=r.firstChild;)l=s.appendChild(n);t.insertNode(s),l&&(t=t.cloneRange(),t.setStartAfter(l),t.collapse(!0),i.removeAllRanges(),i.addRange(t))}}else e.selection&&"Control"!=e.selection.type&&e.selection.createRange().pasteHTML(o)}var m,u,h,g="data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==",f={template:"<editor/><filters/><tabs/>",dir:"ltr",spellcheck:!1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",placeholder:null,container:null,hideSource:!0,autoHideFilters:!1,shortnames:!1,useSprite:!0,filters:{people:{icon:"yum",emoji:"grinning,grin,joy,smiley,smile,sweat_smile,laughing,innocent,smiling_imp,imp,wink,blush,relaxed,yum,relieved,heart_eyes,sunglasses,smirk,neutral_face,expressionless,unamused,sweat,pensive,confused,confounded,kissing,kissing_heart,kissing_smiling_eyes,kissing_closed_eyes,stuck_out_tongue,stuck_out_tongue_winking_eye,stuck_out_tongue_closed_eyes,disappointed,worried,angry,rage,cry,persevere,triumph,disappointed_relieved,frowning,anguished,fearful,weary,sleepy,tired_face,grimacing,sob,open_mouth,hushed,cold_sweat,scream,astonished,flushed,sleeping,dizzy_face,no_mouth,mask,slight_frown,slight_smile,smile_cat,joy_cat,smiley_cat,heart_eyes_cat,smirk_cat,kissing_cat,pouting_cat,crying_cat_face,scream_cat,footprints,bust_in_silhouette,busts_in_silhouette,levitate,spy,baby,boy,girl,man,woman,family,family_mwg,family_mwgb,family_mwbb,family_mwgg,family_wwb,family_wwg,family_wwgb,family_wwbb,family_wwgg,family_mmb,family_mmg,family_mmgb,family_mmbb,family_mmgg,couple,two_men_holding_hands,two_women_holding_hands,dancers,bride_with_veil,person_with_blond_hair,man_with_gua_pi_mao,man_with_turban,older_man,older_woman,cop,construction_worker,princess,guardsman,angel,santa,ghost,japanese_ogre,japanese_goblin,poop,skull,alien,space_invader,bow,information_desk_person,no_good,ok_woman,raising_hand,person_with_pouting_face,person_frowning,massage,haircut,couple_with_heart,couple_ww,couple_mm,couplekiss,kiss_ww,kiss_mm,raised_hands,clap,ear,eye,eyes,nose,lips,kiss,tongue,nail_care,wave,thumbsup,thumbsdown,point_up,point_up_2,point_down,point_left,point_right,ok_hand,v,punch,fist,raised_hand,muscle,open_hands,writing_hand,hand_splayed,middle_finger,vulcan,pray"},nature:{icon:"whale",emoji:"seedling,evergreen_tree,deciduous_tree,palm_tree,cactus,tulip,cherry_blossom,rose,hibiscus,sunflower,blossom,bouquet,ear_of_rice,herb,four_leaf_clover,maple_leaf,fallen_leaf,leaves,mushroom,chestnut,rat,mouse2,mouse,hamster,ox,water_buffalo,cow2,cow,tiger2,leopard,tiger,chipmunk,rabbit2,rabbit,cat2,cat,racehorse,horse,ram,sheep,goat,rooster,chicken,baby_chick,hatching_chick,hatched_chick,bird,penguin,elephant,dromedary_camel,camel,boar,pig2,pig,pig_nose,dog2,poodle,dog,wolf,bear,koala,panda_face,monkey_face,see_no_evil,hear_no_evil,speak_no_evil,monkey,dragon,dragon_face,crocodile,snake,turtle,frog,whale2,whale,dolphin,octopus,fish,tropical_fish,blowfish,shell,snail,bug,ant,bee,beetle,spider,spider_web,feet,zap,fire,crescent_moon,sunny,partly_sunny,cloud,cloud_rain,cloud_snow,cloud_lightning,cloud_tornado,droplet,sweat_drops,umbrella,fog,dash,snowflake,star2,star,stars,sunrise_over_mountains,sunrise,rainbow,ocean,volcano,milky_way,mount_fuji,japan,globe_with_meridians,earth_africa,earth_americas,earth_asia,new_moon,waxing_crescent_moon,first_quarter_moon,waxing_gibbous_moon,full_moon,waning_gibbous_moon,last_quarter_moon,waning_crescent_moon,new_moon_with_face,full_moon_with_face,first_quarter_moon_with_face,last_quarter_moon_with_face,sun_with_face,wind_blowing_face"},food_drink:{icon:"cherries",emoji:"tomato,eggplant,corn,sweet_potato,hot_pepper,grapes,melon,watermelon,tangerine,lemon,banana,pineapple,apple,green_apple,pear,peach,cherries,strawberry,hamburger,pizza,meat_on_bone,poultry_leg,rice_cracker,rice_ball,rice,curry,ramen,spaghetti,bread,fries,dango,oden,sushi,fried_shrimp,fish_cake,icecream,shaved_ice,ice_cream,doughnut,cookie,chocolate_bar,candy,lollipop,custard,honey_pot,cake,bento,stew,egg,fork_and_knife,tea,coffee,sake,wine_glass,cocktail,tropical_drink,beer,beers,baby_bottle"},celebration:{icon:"tada",emoji:"ribbon,gift,birthday,jack_o_lantern,christmas_tree,tanabata_tree,bamboo,rice_scene,fireworks,sparkler,tada,confetti_ball,balloon,dizzy,sparkles,boom,mortar_board,crown,reminder_ribbon,military_medal,dolls,flags,wind_chime,crossed_flags,izakaya_lantern,ring,heart,broken_heart,love_letter,two_hearts,revolving_hearts,heartbeat,heartpulse,sparkling_heart,cupid,gift_heart,heart_decoration,purple_heart,yellow_heart,green_heart,blue_heart"},activity:{icon:"trophy",emoji:"runner,walking,dancer,lifter,golfer,rowboat,swimmer,surfer,bath,snowboarder,ski,snowman,bicyclist,mountain_bicyclist,motorcycle,race_car,horse_racing,tent,fishing_pole_and_fish,soccer,basketball,football,baseball,tennis,rugby_football,golf,trophy,medal,running_shirt_with_sash,checkered_flag,musical_keyboard,guitar,violin,saxophone,trumpet,musical_note,notes,musical_score,headphones,microphone,performing_arts,ticket,tophat,circus_tent,clapper,film_frames,tickets,art,dart,8ball,bowling,slot_machine,game_die,video_game,flower_playing_cards,black_joker,mahjong,carousel_horse,ferris_wheel,roller_coaster"},travel:{icon:"rocket",emoji:"railway_car,mountain_railway,steam_locomotive,train,monorail,bullettrain_side,bullettrain_front,train2,metro,light_rail,station,tram,railway_track,bus,oncoming_bus,trolleybus,minibus,ambulance,fire_engine,police_car,oncoming_police_car,rotating_light,taxi,oncoming_taxi,red_car,oncoming_automobile,blue_car,truck,articulated_lorry,tractor,bike,motorway,busstop,fuelpump,construction,vertical_traffic_light,traffic_light,rocket,helicopter,airplane,airplane_small,airplane_departure,airplane_arriving,seat,anchor,ship,cruise_ship,motorboat,speedboat,sailboat,aerial_tramway,mountain_cableway,suspension_railway,passport_control,customs,baggage_claim,left_luggage,yen,euro,pound,dollar,bellhop,bed,couch,fork_knife_plate,shopping_bags,statue_of_liberty,moyai,foggy,tokyo_tower,fountain,european_castle,japanese_castle,classical_building,stadium,mountain_snow,camping,beach,desert,island,park,cityscape,city_sunset,city_dusk,night_with_stars,bridge_at_night,house,homes,house_with_garden,house_abandoned,construction_site,office,department_store,factory,post_office,european_post_office,hospital,bank,hotel,love_hotel,wedding,church,convenience_store,school,map"},objects_symbols:{icon:"paperclips",emoji:"watch,iphone,calling,computer,desktop,keyboard,trackball,printer,alarm_clock,clock,hourglass_flowing_sand,hourglass,camera,camera_with_flash,video_camera,movie_camera,projector,tv,microphone2,level_slider,control_knobs,radio,pager,joystick,telephone_receiver,telephone,fax,minidisc,floppy_disk,cd,dvd,vhs,battery,electric_plug,bulb,flashlight,candle,satellite,satellite_orbital,credit_card,money_with_wings,moneybag,gem,closed_umbrella,pouch,purse,handbag,briefcase,school_satchel,lipstick,eyeglasses,dark_sunglasses,womans_hat,sandal,high_heel,boot,mans_shoe,athletic_shoe,bikini,dress,kimono,womans_clothes,shirt,necktie,jeans,door,shower,bathtub,toilet,barber,syringe,pill,microscope,telescope,crystal_ball,wrench,knife,dagger,nut_and_bolt,hammer,tools,oil,bomb,smoking,gun,bookmark,newspaper,newspaper2,thermometer,label,key,key2,envelope,envelope_with_arrow,incoming_envelope,email,inbox_tray,outbox_tray,package,postal_horn,postbox,mailbox_closed,mailbox,mailbox_with_no_mail,mailbox_with_mail,page_facing_up,page_with_curl,bookmark_tabs,wastebasket,notepad_spiral,chart_with_upwards_trend,chart_with_downwards_trend,bar_chart,date,calendar,calendar_spiral,ballot_box,low_brightness,high_brightness,compression,frame_photo,scroll,clipboard,book,notebook,notebook_with_decorative_cover,ledger,closed_book,green_book,blue_book,orange_book,books,card_index,dividers,card_box,link,paperclip,paperclips,pushpin,scissors,triangular_ruler,round_pushpin,straight_ruler,triangular_flag_on_post,flag_white,flag_black,hole,file_folder,open_file_folder,file_cabinet,black_nib,pencil2,pen_ballpoint,pen_fountain,paintbrush,crayon,pencil,lock_with_ink_pen,closed_lock_with_key,lock,unlock,mega,loudspeaker,speaker,sound,loud_sound,mute,zzz,bell,no_bell,cross,om_symbol,dove,thought_balloon,speech_balloon,anger_right,children_crossing,shield,mag,mag_right,speaking_head,sleeping_accommodation,no_entry_sign,no_entry,name_badge,no_pedestrians,do_not_litter,no_bicycles,non_potable_water,no_mobile_phones,underage,sparkle,eight_spoked_asterisk,negative_squared_cross_mark,white_check_mark,eight_pointed_black_star,vibration_mode,mobile_phone_off,vs,a,b,ab,cl,o2,sos,id,parking,wc,cool,free,new,ng,ok,up,atm,aries,taurus,gemini,cancer,leo,virgo,libra,scorpius,sagittarius,capricorn,aquarius,pisces,restroom,mens,womens,baby_symbol,wheelchair,potable_water,no_smoking,put_litter_in_its_place,arrow_forward,arrow_backward,arrow_up_small,arrow_down_small,fast_forward,rewind,arrow_double_up,arrow_double_down,arrow_right,arrow_left,arrow_up,arrow_down,arrow_upper_right,arrow_lower_right,arrow_lower_left,arrow_upper_left,arrow_up_down,left_right_arrow,arrows_counterclockwise,arrow_right_hook,leftwards_arrow_with_hook,arrow_heading_up,arrow_heading_down,twisted_rightwards_arrows,repeat,repeat_one,hash,zero,one,two,three,four,five,six,seven,eight,nine,ten,1234,abc,abcd,capital_abcd,information_source,signal_strength,cinema,symbols,heavy_plus_sign,heavy_minus_sign,wavy_dash,heavy_division_sign,heavy_multiplication_x,heavy_check_mark,arrows_clockwise,tm,copyright,registered,currency_exchange,heavy_dollar_sign,curly_loop,loop,part_alternation_mark,exclamation,question,grey_exclamation,grey_question,bangbang,interrobang,x,o,100,end,back,on,top,soon,cyclone,m,ophiuchus,six_pointed_star,beginner,trident,warning,hotsprings,rosette,recycle,anger,diamond_shape_with_a_dot_inside,spades,clubs,hearts,diamonds,ballot_box_with_check,white_circle,black_circle,radio_button,red_circle,large_blue_circle,small_red_triangle,small_red_triangle_down,small_orange_diamond,small_blue_diamond,large_orange_diamond,large_blue_diamond,black_small_square,white_small_square,black_large_square,white_large_square,black_medium_square,white_medium_square,black_medium_small_square,white_medium_small_square,black_square_button,white_square_button,clock1,clock2,clock3,clock4,clock5,clock6,clock7,clock8,clock9,clock10,clock11,clock12,clock130,clock230,clock330,clock430,clock530,clock630,clock730,clock830,clock930,clock1030,clock1130,clock1230"},flags:{icon:"triangular_flag_on_post",emoji:"au,at,be,br,ca,flag_cl,cn,co,dk,fi,fr,de,hk,in,flag_id,ie,il,it,jp,kr,mo,my,mx,nl,nz,no,ph,pl,pt,pr,ru,flag_sa,sg,za,es,se,ch,tr,gb,us,ae,vn,af,al,dz,ad,ao,ai,ag,ar,am,aw,ac,az,bs,bh,bd,bb,by,bz,bj,bm,bt,bo,ba,bw,bn,bg,bf,bi,kh,cm,cv,ky,cf,km,flag_cd,cg,td,cr,ci,hr,cu,cy,cz,dj,dm,do,tl,ec,eg,sv,gq,er,ee,et,fk,fo,fj,pf,ga,gm,ge,gh,gi,gr,gl,gd,gu,gt,gn,gw,gy,ht,hn,hu,is,ir,iq,jm,je,jo,kz,ke,ki,xk,kw,kg,la,lv,lb,ls,lr,ly,li,lt,lu,mk,mg,mw,mv,ml,mt,mh,mr,mu,fm,md,mc,mn,me,ms,ma,mz,mm,na,nr,np,nc,ni,ne,flag_ng,nu,kp,om,pk,pw,ps,pa,pg,py,pe,qa,ro,rw,sh,kn,lc,vc,ws,sm,st,sn,rs,sc,sl,sk,si,sb,so,lk,sd,sr,sz,sy,tw,tj,tz,th,tg,to,tt,tn,flag_tm,flag_tv,vi,ug,ua,uy,uz,vu,va,ve,wf,eh,ye,zm,zw"}}},b=[].slice,w=a.emojione,k={},v={},y=a.setInterval,j=a.clearInterval,x=[],A=0;w||o.getScript("https://cdn.jsdelivr.net/emojione/1.5.0/lib/js/emojione.min.js",function(){w=a.emojione;var i="https://cdnjs.cloudflare.com/ajax/libs/emojione/1.5.0/assets",t=i+"/sprites/emojione.sprites.css";for(w.imagePathPNG=i+"/png/",e.createStyleSheet?e.createStyleSheet(t):o("<link/>",{rel:"stylesheet",href:t}).appendTo("head");x.length;)x.shift().call()}),i(function(){o.each(w.emojioneList,function(e,a){k[e.replace("-","_")]=a}),h=new RegExp("<object[^>]*>.*?</object>|<span[^>]*>.*?</span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+w.unicodeRegexp+")","gi")});var T=function(e,a){var o=this;v[o.id=++A]={},i(function(){p(o,e,a)})};T.prototype.on=function(e,a){if(e&&o.isFunction(a)){var i=this.id;o.each(e.toLowerCase().split(" "),function(e,o){(v[i][o]||(v[i][o]=[])).push(a)})}return this},T.prototype.off=function(e,a){if(e){var i=this.id;o.each(e.toLowerCase().split(" "),function(e,t){v[i][t]&&!/^@/.test(t)&&(a?o.each(v[i][t],function(e,o){o===a&&(v[i][t]=v[i][t].splice(e,1))}):v[i][t]=[])})}return this},T.prototype.setText=function(e){var a=this,o=arguments;i(function(){a.editor.html(n(e,a)),a.content=a.editor.html(),1===o.length&&t(a,"change",[a.editor])})},T.prototype.getText=function(){return l(this.editor.html(),this)},o.fn.emojioneArea=function(e){return this.each(function(){return this.emojioneArea?this.emojioneArea:this.emojioneArea=new T(o(this),e)})},a.getSelection&&e.createRange?(m=function(e){var o=a.getSelection().getRangeAt(0),i=o.cloneRange();return i.selectNodeContents(e),i.setEnd(o.startContainer,o.startOffset),i.toString().length},u=function(o,i){var t=0,r=e.createRange();r.setStart(o,0),r.collapse(!0);for(var n,l=[o],s=!1,c=!1;!c&&(n=l.pop());)if(3==n.nodeType){var _=t+n.length;!s&&i>=t&&_>=i&&(r.setStart(n,i-t),r.setEnd(n,i-t),c=!0),t=_}else for(var p=n.childNodes.length;p--;)l.push(n.childNodes[p]);i=a.getSelection(),i.removeAllRanges(),i.addRange(r)}):e.selection&&e.body.createTextRange&&(m=function(a){var o=e.selection.createRange(),i=e.body.createTextRange();i.moveToElementText(a),i.setEndPoint("EndToStart",o);var t=i.text.length;return[t,t+o.text.length]},u=function(a,o){var i=e.body.createTextRange();i.moveToElementText(a),i.collapse(!0),i.moveEnd("character",o[1]),i.moveStart("character",o[0]),i.select()})}(document,window,jQuery);